# MusicPilot - 任务清单

> **📌 详细任务追踪请参考进化系统**: `evolution/tasks.json`
>
> 本文件提供快速概览，任务状态以进化系统为准。**任务执行时必须同步更新 tasks.json**。

---

## 📊 任务统计（实时）

| Milestone | 状态 | 进度 | 已完成 | 待办 | 阻塞 | 预估工时 |
|-----------|------|------|--------|------|------|----------|
| M1: 基础设施 (v0.1.0) | 🔄 进行中 | 80% | 12 | 3 | 0 | 45h |
| M2: 元数据系统 (v0.2.0) | ⏸️ 待开始 | 0% | 0 | 5 | 0 | 36h |
| M3: 播放功能 (v0.3.0) | ⏸️ 待开始 | 0% | 0 | 4 | 0 | 28h |
| M4: 下载功能 (v0.4.0) | ⏸️ 待开始 | 0% | 0 | 5 | 0 | 30h |
| M5: 订阅功能 (v0.5.0) | ⏸️ 待开始 | 0% | 0 | 4 | 0 | 17h |
| M6: 媒体服务器 (v0.6.0) | ⏸️ 待开始 | 0% | 0 | 5 | 0 | 34h |
| M7: 插件系统 (v0.7.0) | ⏸️ 待开始 | 0% | 0 | 4 | 0 | 24h |
| **总计** | - | **29%** | **12** | **29** | **0** | **214h** |

---

## 📌 Milestone 1: 项目基础设施 (v0.1.0)

**目标**: 建立可运行的开发环境  
**状态**: 🔄 进行中 (80%)  
**预计周期**: Week 1-2

### ✅ 已完成任务 (12/15)
- [x] M1-T0: 需求分析文档编写 (1.5h)
- [x] M1-T1: MoviePilot 架构深入研究 (2h)
- [x] M1-T2: 技术设计文档编写 v2.0 (2.5h)
- [x] M1-T3: GitHub 仓库初始化 (1h)
- [x] M1-T4: 后端核心框架搭建 (2h)
- [x] M1-T5: 数据库模型实现 (2h)
- [x] M1-T6: Pydantic Schemas 实现 (1h)
- [x] M1-T7: API 路由实现 (3h)
- [x] M1-T8: Chain 层实现 (2h)
- [x] M1-T9: 前端基础框架搭建 (2h)
- [x] M1-T12: CI/CD 流水线配置 (2h)
- [x] M1-T13: 研发流程规范文档 (1h)
- [x] M1-T14: 任务清单文档 (1h)

### 🔄 进行中 (1/15)
- [ ] M1-T10: 前端页面组件开发 (8h)
  - 状态: 进行中
  - 依赖: M1-T9
  - 已开始: 2026-02-26T04:44:00Z

### ⏸️ 待办 (2/15)
- [ ] M1-T11: Docker 开发环境配置 (3h)
  - 依赖: M1-T7, M1-T10

---

## 📌 Milestone 2: 元数据系统 (v0.2.0)

**目标**: 实现音乐元数据自动识别和补全  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 3-4

### ⏸️ 待办任务 (5/5)
- [ ] M2-T1: MusicBrainz 模块开发 (8h)
  - 依赖: M1-T4
- [ ] M2-T2: MetadataChain 元数据处理链 (6h)
  - 依赖: M1-T4, M1-T5, M2-T1
- [ ] M2-T3: 音乐文件扫描器 (8h)
  - 依赖: M1-T5, M2-T2
- [ ] M2-T4: 元数据自动识别 (8h)
  - 依赖: M2-T2, M2-T3
- [ ] M2-T5: 前端元数据管理界面 (6h)
  - 依赖: M2-T4

---

## 📌 Milestone 3: 播放功能 (v0.3.0)

**目标**: 实现 Web 播放器和播放控制  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 5-6

### ⏸️ 待办任务 (4/4)
- [ ] M3-T1: 音频流 API (6h)
  - 依赖: M1-T5, M2-T4
- [ ] M3-T2: 前端播放器组件 (10h)
  - 依赖: M1-T9, M3-T1
- [ ] M3-T3: PlaybackChain 播放链 (6h)
  - 依赖: M1-T8, M3-T2
- [ ] M3-T4: 播放列表管理前端 (6h)
  - 依赖: M1-T10, M3-T2

---

## 📌 Milestone 4: 下载功能 (v0.4.0)

**目标**: 实现音乐下载和整理  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 7-8

### ⏸️ 待办任务 (5/5)
- [ ] M4-T1: 下载器接口定义 (2h)
  - 依赖: M1-T4
- [ ] M4-T2: Netease 下载器模块 (10h)
  - 依赖: M4-T1
- [ ] M4-T3: DownloadChain 下载链 (6h)
  - 依赖: M4-T2
- [ ] M4-T4: TransferChain 转移链 (6h)
  - 依赖: M4-T3, M2-T2
- [ ] M4-T5: 下载管理界面 (6h)
  - 依赖: M4-T3

---

## 📌 Milestone 5: 订阅功能 (v0.5.0)

**目标**: 实现艺术家/专辑订阅  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 9-10

### ⏸️ 待办任务 (4/4)
- [ ] M5-T1: 订阅数据模型 (3h)
  - 依赖: M1-T5
- [ ] M5-T2: SubscribeChain 订阅链 (6h)
  - 依赖: M5-T1, M4-T3
- [ ] M5-T3: 订阅定时任务 (4h)
  - 依赖: M5-T2
- [ ] M5-T4: 订阅管理界面 (4h)
  - 依赖: M5-T2

---

## 📌 Milestone 6: 媒体服务器 (v0.6.0)

**目标**: 集成 Plex/Jellyfin 媒体服务器  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 11-12

### ⏸️ 待办任务 (5/5)
- [ ] M6-T1: 媒体服务器数据模型 (2h)
  - 依赖: M1-T5
- [ ] M6-T2: Plex 模块开发 (10h)
  - 依赖: M6-T1
- [ ] M6-T3: Jellyfin 模块开发 (10h)
  - 依赖: M6-T1
- [ ] M6-T4: MediaChain 媒体同步链 (6h)
  - 依赖: M6-T2, M6-T3
- [ ] M6-T5: 媒体服务器管理界面 (6h)
  - 依赖: M6-T4

---

## 📌 Milestone 7: 插件系统 (v0.7.0)

**目标**: 完善插件系统，支持插件开发  
**状态**: ⏸️ 待开始 (0%)  
**预计周期**: Week 13-14

### ⏸️ 待办任务 (4/4)
- [ ] M7-T1: 插件管理 API (6h)
  - 依赖: M1-T4
- [ ] M7-T2: 插件劫持系统模块 (6h)
  - 依赖: M1-T4
- [ ] M7-T3: 插件开发文档 (6h)
  - 依赖: M7-T2
- [ ] M7-T4: 插件管理界面 (6h)
  - 依赖: M7-T1

---

## 🚀 当前 Sprint 计划

### 本周 (2026-02-24 ~ 2026-03-02)
**优先级 P0**: M1-T10 前端页面组件开发（进行中）

**优先级 P1**:
- M1-T11: Docker 开发环境配置

### 下周 (2026-03-03 ~ 2026-03-09)
- M2-T1: MusicBrainz 模块开发
- M2-T2: MetadataChain 元数据处理链

---

## 💡 开发提示

### 技术栈
- **后端**: FastAPI + SQLAlchemy + APScheduler
- **前端**: Vue 3 + Vite + Naive UI + Howler.js
- **数据库**: SQLite (开发) / PostgreSQL (生产)
- **部署**: Docker + Docker Compose

### 参考资料
- MoviePilot: https://github.com/jxxghp/MoviePilot
- MusicBrainz API: https://musicbrainz.org/doc/MusicBrainz_API
- FastAPI: https://fastapi.tiangolo.com/
- Vue 3: https://vuejs.org/

---

## 📋 任务执行规范

### 1. 开始任务前
- 检查任务依赖是否完成
- 更新 tasks.json 中的 `started_at`
- 更新任务状态为 `in_progress`

### 2. 任务进行中
- 每完成一个子任务，更新进度
- 遇到阻塞时，更新 `blocked_tasks`

### 3. 任务完成时
- 更新 tasks.json 中的：
  - `status` → `completed`
  - `completed_at` → 当前时间
  - `actual_hours` → 实际工时
- 更新里程碑的进度
- 同步更新 docs/tasks.md

### 4. Git 提交规范
```
<type>(<scope>): <subject>

<body>

<footer>
```

类型:
- `feat`: 新功能
- `fix`: Bug 修复
- `docs`: 文档更新
- `style`: 代码格式调整（不影响逻辑）
- `refactor`: 重构
- `test`: 测试相关
- `chore`: 构建/工具链相关

---

**最后更新**: 2026-02-26
**数据来源**: evolution/tasks.json